{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container-fluid py-4">
{#  <div class="row">#}
{#    <div class="col-12">#}
{#      <div class="card mb-4">#}
{#        <div class="card-header pb-0">#}
{#          <h6>Authors table</h6>#}
{#        </div>#}
{#        <div class="card-body px-0 pt-0 pb-2">#}
{#          <div class="table-responsive p-0">#}
{#            <table class="table align-items-center mb-0">#}
{#              <thead>#}
{#                <tr>#}
{#                  <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Author</th>#}
{#                  <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Function</th>#}
{#                  <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Status</th>#}
{#                  <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Employed</th>#}
{#                  <th class="text-secondary opacity-7"></th>#}
{#                </tr>#}
{#              </thead>#}
{#              <tbody>#}
{#                <tr>#}
{#                  <td>#}
{#                    <div class="d-flex px-2 py-1">#}
{#                      <div>#}
{#                        <img src="{% static 'img/team-2.jpg' %}" class="avatar avatar-sm me-3" alt="user1">#}
{#                      </div>#}
{#                      <div class="d-flex flex-column justify-content-center">#}
{#                        <h6 class="mb-0 text-sm">John Michael</h6>#}
{#                        <p class="text-xs text-secondary mb-0">john@creative-tim.com</p>#}
{#                      </div>#}
{#                    </div>#}
{#                  </td>#}
{#                  <td>#}
{#                    <p class="text-xs font-weight-bold mb-0">Manager</p>#}
{#                    <p class="text-xs text-secondary mb-0">Organization</p>#}
{#                  </td>#}
{#                  <td class="align-middle text-center text-sm">#}
{#                    <span class="badge badge-sm bg-gradient-success">Online</span>#}
{#                  </td>#}
{#                  <td class="align-middle text-center">#}
{#                    <span class="text-secondary text-xs font-weight-bold">23/04/18</span>#}
{#                  </td>#}
{#                  <td class="align-middle">#}
{#                    <a href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user">#}
{#                      Edit#}
{#                    </a>#}
{#                  </td>#}
{#                </tr>#}
{#                <tr>#}
{#                  <td>#}
{#                    <div class="d-flex px-2 py-1">#}
{#                      <div>#}
{#                        <img src="{% static 'img/team-3.jpg' %}" class="avatar avatar-sm me-3" alt="user2">#}
{#                      </div>#}
{#                      <div class="d-flex flex-column justify-content-center">#}
{#                        <h6 class="mb-0 text-sm">Alexa Liras</h6>#}
{#                        <p class="text-xs text-secondary mb-0">alexa@creative-tim.com</p>#}
{#                      </div>#}
{#                    </div>#}
{#                  </td>#}
{#                  <td>#}
{#                    <p class="text-xs font-weight-bold mb-0">Programator</p>#}
{#                    <p class="text-xs text-secondary mb-0">Developer</p>#}
{#                  </td>#}
{#                  <td class="align-middle text-center text-sm">#}
{#                    <span class="badge badge-sm bg-gradient-secondary">Offline</span>#}
{#                  </td>#}
{#                  <td class="align-middle text-center">#}
{#                    <span class="text-secondary text-xs font-weight-bold">11/01/19</span>#}
{#                  </td>#}
{#                  <td class="align-middle">#}
{#                    <a href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user">#}
{#                      Edit#}
{#                    </a>#}
{#                  </td>#}
{#                </tr>#}
{#                <tr>#}
{#                  <td>#}
{#                    <div class="d-flex px-2 py-1">#}
{#                      <div>#}
{#                        <img src="{% static 'img/team-4.jpg' %}" class="avatar avatar-sm me-3" alt="user3">#}
{#                      </div>#}
{#                      <div class="d-flex flex-column justify-content-center">#}
{#                        <h6 class="mb-0 text-sm">Laurent Perrier</h6>#}
{#                        <p class="text-xs text-secondary mb-0">laurent@creative-tim.com</p>#}
{#                      </div>#}
{#                    </div>#}
{#                  </td>#}
{#                  <td>#}
{#                    <p class="text-xs font-weight-bold mb-0">Executive</p>#}
{#                    <p class="text-xs text-secondary mb-0">Projects</p>#}
{#                  </td>#}
{#                  <td class="align-middle text-center text-sm">#}
{#                    <span class="badge badge-sm bg-gradient-success">Online</span>#}
{#                  </td>#}
{#                  <td class="align-middle text-center">#}
{#                    <span class="text-secondary text-xs font-weight-bold">19/09/17</span>#}
{#                  </td>#}
{#                  <td class="align-middle">#}
{#                    <a href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user">#}
{#                      Edit#}
{#                    </a>#}
{#                  </td>#}
{#                </tr>#}
{#                <tr>#}
{#                  <td>#}
{#                    <div class="d-flex px-2 py-1">#}
{#                      <div>#}
{#                        <img src="{% static 'img/team-3.jpg' %}" class="avatar avatar-sm me-3" alt="user4">#}
{#                      </div>#}
{#                      <div class="d-flex flex-column justify-content-center">#}
{#                        <h6 class="mb-0 text-sm">Michael Levi</h6>#}
{#                        <p class="text-xs text-secondary mb-0">michael@creative-tim.com</p>#}
{#                      </div>#}
{#                    </div>#}
{#                  </td>#}
{#                  <td>#}
{#                    <p class="text-xs font-weight-bold mb-0">Programator</p>#}
{#                    <p class="text-xs text-secondary mb-0">Developer</p>#}
{#                  </td>#}
{#                  <td class="align-middle text-center text-sm">#}
{#                    <span class="badge badge-sm bg-gradient-success">Online</span>#}
{#                  </td>#}
{#                  <td class="align-middle text-center">#}
{#                    <span class="text-secondary text-xs font-weight-bold">24/12/08</span>#}
{#                  </td>#}
{#                  <td class="align-middle">#}
{#                    <a href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user">#}
{#                      Edit#}
{#                    </a>#}
{#                  </td>#}
{#                </tr>#}
{#                <tr>#}
{#                  <td>#}
{#                    <div class="d-flex px-2 py-1">#}
{#                      <div>#}
{#                        <img src="{% static 'img/team-2.jpg' %}" class="avatar avatar-sm me-3" alt="user5">#}
{#                      </div>#}
{#                      <div class="d-flex flex-column justify-content-center">#}
{#                        <h6 class="mb-0 text-sm">Richard Gran</h6>#}
{#                        <p class="text-xs text-secondary mb-0">richard@creative-tim.com</p>#}
{#                      </div>#}
{#                    </div>#}
{#                  </td>#}
{#                  <td>#}
{#                    <p class="text-xs font-weight-bold mb-0">Manager</p>#}
{#                    <p class="text-xs text-secondary mb-0">Executive</p>#}
{#                  </td>#}
{#                  <td class="align-middle text-center text-sm">#}
{#                    <span class="badge badge-sm bg-gradient-secondary">Offline</span>#}
{#                  </td>#}
{#                  <td class="align-middle text-center">#}
{#                    <span class="text-secondary text-xs font-weight-bold">04/10/21</span>#}
{#                  </td>#}
{#                  <td class="align-middle">#}
{#                    <a href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user">#}
{#                      Edit#}
{#                    </a>#}
{#                  </td>#}
{#                </tr>#}
{#                <tr>#}
{#                  <td>#}
{#                    <div class="d-flex px-2 py-1">#}
{#                      <div>#}
{#                        <img src="{% static 'img/team-4.jpg' %}" class="avatar avatar-sm me-3" alt="user6">#}
{#                      </div>#}
{#                      <div class="d-flex flex-column justify-content-center">#}
{#                        <h6 class="mb-0 text-sm">Miriam Eric</h6>#}
{#                        <p class="text-xs text-secondary mb-0">miriam@creative-tim.com</p>#}
{#                      </div>#}
{#                    </div>#}
{#                  </td>#}
{#                  <td>#}
{#                    <p class="text-xs font-weight-bold mb-0">Programtor</p>#}
{#                    <p class="text-xs text-secondary mb-0">Developer</p>#}
{#                  </td>#}
{#                  <td class="align-middle text-center text-sm">#}
{#                    <span class="badge badge-sm bg-gradient-secondary">Offline</span>#}
{#                  </td>#}
{#                  <td class="align-middle text-center">#}
{#                    <span class="text-secondary text-xs font-weight-bold">14/09/20</span>#}
{#                  </td>#}
{#                  <td class="align-middle">#}
{#                    <a href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user">#}
{#                      Edit#}
{#                    </a>#}
{#                  </td>#}
{#                </tr>#}
{#              </tbody>#}
{#            </table>#}
{#          </div>#}
{#        </div>#}
{#      </div>#}
{#    </div>#}
{#  </div>#}
  <div class="row">
    <div class="col-12">
      <div class="card mb-4">
        <div class="card-header pb-0">
          <h6 class="float-start">All Task</h6>
          <div class="float-end">
            {% block search %}
              {% include "includes/search.html" %}
            {% endblock %}
          </div>
        </div>
        <div class="card-body px-0 pt-0 pb-2">
          <div class="table-responsive p-0">
            <table class="table align-items-center justify-content-center mb-0">
              <thead>
                <tr>
                  <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Task</th>
                  <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Description</th>
                  <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Priority</th>
                  <th class="text-uppercase text-secondary text-xxs font-weight-bolder text-center opacity-7 ps-2">Deadline</th>
                  <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Status</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                {% if task_list %}
                  {% for task in task_list %}
                    <tr>
                      <td>
                        <div class="d-flex px-2">
                          <div class="my-auto">


                            <h6 class="mb-0 text-sm">{{ task.name }}</h6>
                            <div class="d-flex gap-2">
                              <a href="{% url "cabinet:task-detail" pk=task.id %}">
                                <p class="text-xs text-secondary mb-0">More info</p>
                              </a>
                              <a href="{% url 'cabinet:task-update' pk=task.id %}">
                                <p class="text-xs text-secondary mb-0">Update</p>
                              </a>
                            </div>

                          </div>
                        </div>
                      </td>
                      <td>
                        <p class="text-sm font-weight-bold mb-0">{{ task.description }}</p>
                      </td>
                      <td>
                        {% if task.priority == "Urgent"  %}
                          <span class="badge badge-sm bg-gradient-danger">{{ task.priority }}</span>
                          {% elif task.priority == "High" %}
                          <span class="badge badge-sm bg-gradient-warning">{{ task.priority }}</span>
                          {% elif task.priority == "Normal" %}
                          <span class="badge badge-sm bg-gradient-info">{{ task.priority }}</span>
                          {% elif task.priority == "Low" %}
                          <span class="badge badge-sm bg-gradient-secondary">{{ task.priority }}</span>

                        {% endif %}
                      </td>
                      <td class="align-middle text-center">
                        <span class="text-xs font-weight-bold">{{ task.deadline }}</span>
                        </td>
                      <td class="align-middle text-center">
                        <span class="text-xs font-weight-bold">{{ task.is_completed }}</span>
                        </td>
                      <td class="align-middle">
                        <button class="btn btn-link text-secondary mb-0" aria-haspopup="true" aria-expanded="false">
                          <i class="fa fa-ellipsis-v text-xs"></i>
                        </button>
                      </td>
                    </tr>
                  {% endfor %}
                {% endif %}
              </tbody>
            </table>
          </div>
          {% block pagination %}
            {% include "includes/pagination.html" %}
          {% endblock %}
        </div>
      </div>
    </div>
  </div>
  {% endblock content %}

{#{% block content %}#}
{#  <div class="container-1">#}
{#    <h1>Task list#}
{#    <a href="{% url 'cabinet:task-create' %}" class="btn btn-primary link-to-page">#}
{#        Create#}
{#      </a>#}
{#    </h1>#}
{##}
{#    {% block search %}#}
{#      {% include "includes/search.html" %}#}
{#    {% endblock %}#}
{##}
{#    {% if user.is_authenticated %}#}
{#      <p>Hello <strong>{{ user.username }}</strong>! <a href="{% url 'logout' %}" class="btn btn-info">Logout</a></p>#}
{#    {% else %}#}
{#      <a href="{% url 'login' %}" class="btn btn-info">Login</a>#}
{#    {% endif %}#}
{#  </div>#}
{#  {% if task_list %}#}
{#    <ul>#}
{#      {% for task in task_list %}#}
{#      <li>#}
{#          <h3>#}
{#            <a href="{% url "cabinet:task-detail" pk=task.id %} ">{{ task.name }}</a>#}
{#          </h3>#}
{#          <p>Description: {{ task.description }}</p>#}
{#          <h4>Deadline: {{ task.deadline }}</h4>#}
{#      </li>#}
{#      {% endfor %}#}
{#    </ul>#}
{#  {% else %}#}
{#    <p>There are no post in feed</p>#}
{#  {% endif %}#}
{#  {% block pagination %}#}
{#        {% include "includes/pagination.html" %}#}
{#  {% endblock %}#}
{#{% endblock %}#}